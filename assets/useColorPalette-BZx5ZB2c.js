import{r as m,q as x}from"./index-Ci9XI7Uf.js";function S(o=5){const e=Math.floor(Math.random()*360),n=[];for(let r=0;r<o;r++){const t=(e+r*360/o)%360,a=60+Math.random()*30,c=40+Math.random()*30;n.push(b(t,a,c))}return n}function b(o,e,n){o/=360,e/=100,n/=100;let r,t,a;if(e===0)r=t=a=n;else{const u=(h,f,s)=>(s<0&&(s+=1),s>1&&(s-=1),s<.16666666666666666?h+(f-h)*6*s:s<.5?f:s<.6666666666666666?h+(f-h)*(.6666666666666666-s)*6:h),i=n<.5?n*(1+e):n+e-n*e,g=2*n-i;r=u(g,i,o+1/3),t=u(g,i,o),a=u(g,i,o-1/3)}const c=u=>{const i=Math.round(u*255).toString(16);return i.length===1?"0"+i:i};return`#${c(r)}${c(t)}${c(a)}`}function M(o){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function I(o,e){const n=p(o),r=p(e),t=Math.max(n,r),a=Math.min(n,r);return(t+.05)/(a+.05)}function p(o){const e=M(o);if(!e)return 0;const[n,r,t]=[e.r,e.g,e.b].map(a=>(a/=255,a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)));return .2126*n+.7152*r+.0722*t}function P(o,e=5){const n=w(o),r=[];for(let t=0;t<e;t++){const a=20+t*60/(e-1);r.push(b(n.h,n.s,a))}return r}function w(o){const e=M(o);if(!e)return{h:0,s:0,l:0};const n=e.r/255,r=e.g/255,t=e.b/255,a=Math.max(n,r,t),c=Math.min(n,r,t);let u,i,g=(a+c)/2;if(a===c)u=i=0;else{const h=a-c;switch(i=g>.5?h/(2-a-c):h/(a+c),a){case n:u=(r-t)/h+(r<t?6:0);break;case r:u=(t-n)/h+2;break;case t:u=(n-r)/h+4;break}u/=6}return{h:Math.round(u*360),s:Math.round(i*100),l:Math.round(g*100)}}function C(){const o=m([]),e=m([]),n=m(5),r=m("hex"),t=m([]),a=()=>{const s=localStorage.getItem("colorPalettes");if(s)try{t.value=JSON.parse(s)}catch{t.value=[]}const l=localStorage.getItem("currentPalette");if(l)try{o.value=JSON.parse(l)}catch{o.value=[]}o.value.length===0&&u("harmonious")},c=()=>{localStorage.setItem("currentPalette",JSON.stringify(o.value)),localStorage.setItem("colorPalettes",JSON.stringify(t.value))},u=(s="harmonious")=>{let l;s==="monochromatic"&&o.value.length>0?l=P(o.value[0],n.value):l=S(n.value),e.value.length>0&&e.value.forEach((d,v)=>{v<l.length&&(l[v]=d)}),o.value=l,c()},i=async s=>{try{return await navigator.clipboard.writeText(s),!0}catch(l){return console.error("Failed to copy: ",l),!1}},g=s=>{const l=e.value.indexOf(s);l===-1?e.value.push(s):e.value.splice(l,1),c()},h=s=>{const l={id:Date.now(),name:s||`Palette ${t.value.length+1}`,colors:[...o.value],createdAt:new Date().toISOString()};t.value.push(l),c()},f=s=>{t.value=t.value.filter(l=>l.id!==s),c()};return a(),x([o,t],c,{deep:!0}),{colors:o,pinnedColors:e,colorCount:n,format:r,savedPalettes:t,generatePalette:u,copyToClipboard:i,togglePinColor:g,savePalette:h,deletePalette:f}}export{I as g,M as h,C as u};
